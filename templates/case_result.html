{% extends "base.html" %}
{% block title %}Submit Case Result{% endblock %}
{% block content %}
<div class="card">
  <div class="card-body">
    <h2 class="mb-4">Submit Case Result</h2>
    <form method="POST">
      <label>Court:</label><br>
      <select name="court" id="court_select" onchange="toggleCourtInput()">
        <option value="">-- Select Court --</option>
        <option value="Prince William General District Court">Prince William General District Court</option>
        <option value="Fairfax General District Court">Fairfax General District Court</option>
        <option value="Other">Other</option>
      </select><br><br>
      <div id="custom_court_container" style="display: none;">
        <label>Enter Court:</label><br>
        <input type="text" name="custom_court"><br><br>
      </div>

      <label>Client Name:</label><br>
      <input type="text" name="defendant_name"><br><br>

      <label>Original Charge:</label><br>
      <input type="text" name="offense"><br><br>

      <label>Amended Charge:</label><br>
      <select name="amended_charge" id="amended_charge_select" onchange="toggleAmendedChargeInput()">
        <option value="">-- Select Amended Charge --</option>
        <option value="None">None</option>
        <option value="Other">Other</option>
      </select><br><br>
      <div id="custom_amended_charge_container" style="display: none;">
        <label>Enter Amended Charge:</label><br>
        <input type="text" name="custom_amended_charge"><br><br>
      </div>

      <label>Disposition:</label><br>
      <select name="disposition" id="disposition" onchange="toggleOtherDisposition()">
        <option value="Not Guilty">Not Guilty</option>
        <option value="Guilty">Guilty</option>
        <option value="Dismissed">Dismissed</option>
        <option value="Dismissed with Costs">Dismissed with Costs</option>
        <option value="Taken Under Advisement for Dismissal">Taken Under Advisement for Dismissal</option>
        <option value="Deferred Disposition">Deferred Disposition</option>
      </select><br><br>
      <div id="other_disposition_container" style="display: none;">
        <label>Specify Other Disposition:</label><br>
        <input type="text" name="other_disposition"><br><br>
      </div>

      <label>Jail Sentence:</label><br>
      <input type="text" name="jail_time_imposed" placeholder="e.g., 90"> days in jail with 
      <input type="text" name="jail_time_suspended" placeholder="e.g., 90"> days suspended<br><br>

      <label>Fine:</label><br>
      $<input type="text" name="fine_imposed" placeholder="e.g., 1000"> fine with 
      $<input type="text" name="fine_suspended" placeholder="e.g., 500"> suspended<br><br>

      <label>License Suspension:</label><br>
      <input type="text" name="license_suspension"><br><br>

      <label>Restricted License:</label><br>
      <select name="restricted_license">
        <option value="">-- Select --</option>
        <option value="No">No</option>
        <option value="Yes - Interlock Only">Yes - Interlock Only</option>
        <option value="Yes - Time and Place Restrictions Only">Yes - Time and Place Restrictions Only</option>
        <option value="Yes - Interlock and Time and Place Restrictions">Yes - Interlock and Time and Place Restrictions</option>
      </select><br><br>

      <label>VASAP Ordered:</label><br>
      <select name="asap_ordered">
        <option value="No" selected>No</option>
        <option value="Yes">Yes</option>
      </select><br><br>

      <label>Probation Type:</label><br>
      <select name="probation_type">
        <option value="">-- Select --</option>
        <option value="Supervised">Supervised</option>
        <option value="Unsupervised (GGB)">Unsupervised (GGB)</option>
      </select><br><br>

      <fieldset>
        <legend>Other Conditions:</legend>
        <label><input type="checkbox" name="conditions" value="VASAP"> VASAP</label><br>
        <label><input type="checkbox" name="conditions" value="VIP"> Victim Impact Panel (VIP)</label><br>
        <label><input type="checkbox" name="conditions" value="Community Service"> Community Service</label><br>
        <label><input type="checkbox" name="conditions" value="Anger Management"> Anger Management</label><br>
      </fieldset><br>

      <label>Was the case continued?</label><br>
      <select name="was_continued" id="was_continued" onchange="toggleContinuationDate()">
        <option value="No">No</option>
        <option value="Yes">Yes</option>
      </select><br><br>

      <div id="continuation_date_container" style="display: none;">
        <label>Continuation Date:</label><br>
        <input type="date" name="continuation_date"><br><br>
      </div>

      <input type="hidden" name="date_disposition" id="date_disposition">

      <label>Client Email:</label><br>
      <input type="email" name="client_email"><br><br>

      <label>Notes:</label><br>
      <textarea name="notes" rows="4" cols="50"></textarea><br><br>

      <label><input type="checkbox" name="send_review_links" value="true"> Send Review Links</label><br><br>

      <div class="form-group">
        <input type="submit" value="Submit" class="btn btn-primary">
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
        <a href="{{ url_for('dashboard') }}" class="btn btn-danger">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}